<!doctype html>
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8" />
  <title>Acessorios - Loja Geek</title>
  <link rel="stylesheet" href="css/index.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/bootstrap.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="css/icon.css">
  <script src="js/jquery.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/vue.js"></script>
  <script src="js/vue-router.js"></script>
  <script src="js/axios.min.js"></script>
  <script src="js/vue-session.js"></script>
</head>

<body>
  <header>
    <div class="header">
      <a href="index.html" class="logo"><img src="img/logo.png" alt=""></a>
      <div id="divBusca">
        <img src="img/lupa.png" id="btnBusca" alt="Buscar" width="45px" height="50px" />
        <input type="text" id="txtBusca" placeholder="Buscar...">
      </div>
      <div class="header-right">
        <a onclick="document.getElementById('id01').style.display='block'" style="width:auto;"><img
            src="img/conta.png"><br>Conta
          <a href="carrinho.html"><img src="img/carrinho.png"><br>Carrinho</a>
          <a href="sac.html"><img src="img/sac.png"><br>Sac</a>
      </div>
    </div>
    <div class="barra">
      <a href="camisetas.html">Camisetas</a>
      <a href="acessorios.html">Acessorios</a>
      <a href="actionfigures.html">Action Figures</a>
      <a href="livros.html">Livros</a>
      <a href="hqs.html">HQ's</a>
      <a href="decoracoes.html">Decorações</a>
      <a href="kits.html">Kits</a>
    </div>
  </header>

  <div id="id01" class="modal">

    <form class="modal-content animate" action="/action_page.php" id="conta">
      <div class="imgcontainer">
        <span onclick="document.getElementById('id01').style.display='none'" class="close"
          title="Close Modal">&times;</span>
        <img src="img/img_avatar2.png" alt="Avatar" class="avatar">
      </div>

      <div class="container">
        <p style="color: red">{{error}}</p>
        <label for="uname"><b>Nome de usuário:</b></label>
        <input type="text" placeholder="Escreva seu nome de usuário" name="uname" v-model="username" required>

        <label for="psw"><b>Senha:</b></label>
        <input type="password" placeholder="Escreva sua senha" name="psw" v-model="password" required>

        <button type="button" @click="submit">Entrar</button>
        <label>
          <input type="checkbox" checked="checked" name="remember"> Lembre-se de mim
        </label>
      </div>

      <div class="container" style="background-color:#f1f1f1">
        <button type="button" onclick="document.getElementById('id01').style.display='none'"
          class="cancelbtn">Cancelar</button>
        <span class="psw">Ainda não possui conta? <a href="cadastro.html"> Registre-se</a></span>
      </div>
    </form>
    <script>
      var app = new Vue({
        el: "#conta",
        data: {
          url: "http://localhost:8080/rest_persistence/login",
          username: null,
          password: null,
          error: null
        },
        created() {
        },
        methods: {
          submit() {
            vm = this;
            axios.defaults.withCredentials = true;
            axios.post(this.url, {
              username: vm.username,
              password: vm.password
            }).then(function (r) {
              if (r.status == 200) {
                vm.$session.start();
                vm.$session.set("id", r.data);
                window.location.replace("User-Conta.html");
              }
            }).catch(function (error) {
              console.log(error);
              vm.error = "Não foi possível logar. Favor verificar se login e senha estão corretos!";
            });
          }
        }
      });
    </script>
  </div>

  <hr>
  <div class="container">

    <div class="row">

      <div class="col-lg-12">

        <div id="carouselExampleIndicators" class="carousel slide my-4" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
          </ol>
          <div class="carousel-inner" role="listbox">
            <div class="carousel-item active">
              <img class="d-block img-fluid" src="img/gotstark.jpg" alt="First slide">
            </div>
            <div class="carousel-item">
              <img class="d-block img-fluid" src="img/mapa.jpg" alt="Second slide">
            </div>
            <div class="carousel-item">
              <img class="d-block img-fluid" src="img/gamr.jpg" alt="Third slide" width="3000px">
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>

        <div class="row" id="app">

          <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100">
              <a :href="'produtos.html?id='+16"><img class="card-img-top" src="img/casebp.png" alt=""></a>
              <div class="card-body">
                <h4 class="card-title">
                  <a :href="'produtos.html?id='+16">{{produtos[15].nome}}</a>
                </h4>
                <h5>R$35,00</h5>
                <p class="card-text">Case Pantera Negra</p>
                <p>qtd: <input type="number" value="1" min="1" max="10" id="qtd10">
                  <p><button type="button" id="adicionar1" id="produto1"
                      onclick="AddCarrinho('Case Pantera Negra', document.getElementById('qtd10').value, '35.00', 10)">Adicionar
                      ao Carrrinho</button></p>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100">
              <a :href="'produtos.html?id='+17"><img class="card-img-top" src="img/casesm.png" alt=""></a>
              <div class="card-body">
                <h4 class="card-title">
                  <a :href="'produtos.html?id='+17">{{produtos[16].nome}}</a>
                </h4>
                <h5>R$35,00</h5>
                <p class="card-text">Case Mapa Super Mario</p>
                <p>qtd: <input type="number" value="1" min="1" max="10" id="qtd11">
                  <p><button type="button" id="adicionar1" id="produto1"
                      onclick="AddCarrinho('Case Super Mario', document.getElementById('qtd11').value, '35.00', 11)">Adicionar
                      ao Carrrinho</button></p>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100">
              <a :href="'produtos.html?id='+18"><img class="card-img-top" src="img/chavegot.png" alt=""></a>
              <div class="card-body">
                <h4 class="card-title">
                  <a :href="'produtos.html?id='+18">{{produtos[17].nome}}</a>
                </h4>
                <h5>R$20,00</h5>
                <p class="card-text">Chaveiro GOT Stark</p>
                <p>qtd: <input type="number" value="1" min="1" max="10" id="qtd13">
                  <p><button type="button" id="adicionar1" id="produto1"
                      onclick="AddCarrinho('Chaveiro GOT Stark', document.getElementById('qtd13').value, '20.00', 13)">Adicionar
                      ao Carrrinho</button></p>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100">
              <a :href="'produtos.html?id='+19"><img class="card-img-top" src="img/chavthor.png" alt=""></a>
              <div class="card-body">
                <h4 class="card-title">
                  <a :href="'produtos.html?id='+19">{{produtos[18].nome}}</a>
                </h4>
                <h5>R$20,00</h5>
                <p class="card-text">Chaveiro Mjolnir Thor</p>
                <p>qtd: <input type="number" value="1" min="1" max="10" id="qtd14">
                  <p><button type="button" id="adicionar1" id="produto1"
                      onclick="AddCarrinho('Chaveiro Mjolnir Thor', document.getElementById('qtd14').value, '20.00', 14)">Adicionar
                      ao Carrrinho</button></p>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100">
              <a :href="'produtos.html?id='+20"><img class="card-img-top" src="img/mascGO.jpg" alt=""></a>
              <div class="card-body">
                <h4 class="card-title">
                  <a :href="'produtos.html?id='+20">{{produtos[19].nome}}</a>
                </h4>
                <h5>R$20,00</h5>
                <p class="card-text">Máscara Game Over</p>
                <p>qtd: <input type="number" value="1" min="1" max="10" id="qtd15">
                  <p><button type="button" id="adicionar1" id="produto1"
                      onclick="AddCarrinho('Máscara Game Over', document.getElementById('qtd15').value, '20.00', 15)">Adicionar
                      ao Carrrinho</button></p>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100">
              <a :href="'produtos.html?id='+21"><img class="card-img-top" src="img/mascarax.jpg" alt=""></a>
              <div class="card-body">
                <h4 class="card-title">
                  <a :href="'produtos.html?id='+21">{{produtos[20].nome}}</a>
                </h4>
                <h5>R$20,00</h5>
                <p class="card-text">Máscara Xbox</p>
                <p>qtd: <input type="number" value="1" min="1" max="10" id="qtd16">
                  <p><button type="button" id="adicionar1" id="produto1"
                      onclick="AddCarrinho('Máscara Xbox', document.getElementById('qtd16').value, '20.00', 16)">Adicionar
                      ao Carrrinho</button></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    function AddCarrinho(produto, qtd, valor, posicao) {
      localStorage.setItem("produto" + posicao, produto);
      localStorage.setItem("qtd" + posicao, qtd);
      valor = valor * qtd;
      localStorage.setItem("valor" + posicao, valor);
      alert("Produto adicionado ao carrinho!");
    }
  </script>
  <script>
    var app = new Vue({
      el: "#app",
      data: {
        url: "http://localhost:8080/rest_persistence/api/produtos",
        produtos: []
      },
      created() {
        vm = this;
        axios.get(this.url).then(function (r) {
          if (r.data.produto.length > 1) {
            vm.produtos = r.data.produto;
          } else {
            vm.produtos = r.data;
          }
        }).catch(function (error) {
          console.log(error);
        });
      }
    });
  </script>

  <footer class="page-footer font-small cyan darken-3">
    <div class="container">
      <div class="row">
        <div class="col-md-12 py-5">
          <div class="mb-5 flex-center">
            <div class="footer-social-icons">
              <h5>Sigam a gente nas redes sociais!</h5>
              <ul class="social-icons">
                <li><a href="" class="social-icon"> <i class="fa fa-facebook"></i></a></li>
                <li><a href="" class="social-icon"> <i class="fa fa-twitter"></i></a></li>
                <li><a href="" class="social-icon"> <i class="fa fa-instagram"></i></a></li>
              </ul>
            </div>
            <div class="copyright">©2018 Copyright:
              <a href="index.html"> lojageek.com.br</a>
            </div>
          </div>
        </div>
      </div>
    </div>

  </footer>
</body>

</html>